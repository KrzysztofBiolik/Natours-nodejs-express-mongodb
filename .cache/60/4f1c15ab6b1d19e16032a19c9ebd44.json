{"id":"Uj2q","dependencies":[{"name":"C:\\Users\\bioli\\OneDrive\\Pulpit\\Natours-node-express-mondodb\\package.json","includedInParent":true,"mtime":1733515836562},{"name":"axios","loc":{"line":1,"column":18,"index":18},"parent":"C:\\Users\\bioli\\OneDrive\\Pulpit\\Natours-node-express-mondodb\\public\\js\\stripe.js","resolved":"C:\\Users\\bioli\\OneDrive\\Pulpit\\Natours-node-express-mondodb\\node_modules\\axios\\index.js"},{"name":"./alerts","loc":{"line":2,"column":26,"index":54},"parent":"C:\\Users\\bioli\\OneDrive\\Pulpit\\Natours-node-express-mondodb\\public\\js\\stripe.js","resolved":"C:\\Users\\bioli\\OneDrive\\Pulpit\\Natours-node-express-mondodb\\public\\js\\alerts.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.bookTour=void 0;var e=o(require(\"axios\")),s=require(\"./alerts\");function o(e){return e&&e.__esModule?e:{default:e}}const t=async o=>{try{const r=await(0,e.default)(`/api/v1/bookings/checkout-session/${o}`);200===r.status&&location.assign(r.data.session.url)}catch(t){(0,s.showAlert)(\"error\",t.response.data.message)}};exports.bookTour=t;"},"sourceMaps":{"js":{"mappings":[{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":0}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":13}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":20}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":35}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":43}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":56}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":57}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":64}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":68}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":76}},{"source":"stripe.js","original":{"line":15,"column":2},"generated":{"line":1,"column":90}},{"source":"stripe.js","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"stripe.js","name":"_axios","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"stripe.js","name":"_interopRequireDefault","original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"stripe.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"stripe.js","original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"stripe.js","name":"_alerts","original":{"line":2,"column":0},"generated":{"line":1,"column":118}},{"source":"stripe.js","name":"require","original":{"line":2,"column":0},"generated":{"line":1,"column":120}},{"source":"stripe.js","original":{"line":2,"column":0},"generated":{"line":1,"column":128}},{"source":"stripe.js","original":{"line":2,"column":37},"generated":{"line":1,"column":140}},{"source":"stripe.js","name":"_interopRequireDefault","original":{"line":2,"column":37},"generated":{"line":1,"column":149}},{"source":"stripe.js","name":"e","original":{"line":2,"column":37},"generated":{"line":1,"column":151}},{"source":"stripe.js","name":"e","original":{"line":2,"column":37},"generated":{"line":1,"column":154}},{"source":"stripe.js","name":"e","original":{"line":2,"column":37},"generated":{"line":1,"column":161}},{"source":"stripe.js","name":"e","original":{"line":2,"column":37},"generated":{"line":1,"column":164}},{"source":"stripe.js","name":"__esModule","original":{"line":2,"column":37},"generated":{"line":1,"column":166}},{"source":"stripe.js","name":"e","original":{"line":2,"column":37},"generated":{"line":1,"column":177}},{"source":"stripe.js","name":"default","original":{"line":2,"column":37},"generated":{"line":1,"column":179}},{"source":"stripe.js","name":"default","original":{"line":2,"column":37},"generated":{"line":1,"column":180}},{"source":"stripe.js","name":"e","original":{"line":2,"column":37},"generated":{"line":1,"column":188}},{"source":"stripe.js","original":{"line":4,"column":7},"generated":{"line":1,"column":191}},{"source":"stripe.js","name":"bookTour","original":{"line":4,"column":13},"generated":{"line":1,"column":197}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":199}},{"source":"stripe.js","original":{"line":4,"column":24},"generated":{"line":1,"column":205}},{"source":"stripe.js","original":{"line":5,"column":2},"generated":{"line":1,"column":209}},{"source":"stripe.js","original":{"line":8,"column":4},"generated":{"line":1,"column":213}},{"source":"stripe.js","name":"res","original":{"line":8,"column":10},"generated":{"line":1,"column":219}},{"source":"stripe.js","original":{"line":8,"column":22},"generated":{"line":1,"column":227}},{"source":"stripe.js","name":"axios","original":{"line":8,"column":22},"generated":{"line":1,"column":229}},{"source":"stripe.js","original":{"line":8,"column":27},"generated":{"line":1,"column":231}},{"source":"stripe.js","name":"tourId","original":{"line":8,"column":65},"generated":{"line":1,"column":277}},{"source":"stripe.js","original":{"line":10,"column":23},"generated":{"line":1,"column":282}},{"source":"stripe.js","name":"res","original":{"line":10,"column":8},"generated":{"line":1,"column":288}},{"source":"stripe.js","name":"status","original":{"line":10,"column":12},"generated":{"line":1,"column":290}},{"source":"stripe.js","name":"location","original":{"line":10,"column":28},"generated":{"line":1,"column":298}},{"source":"stripe.js","name":"assign","original":{"line":10,"column":37},"generated":{"line":1,"column":307}},{"source":"stripe.js","name":"res","original":{"line":10,"column":44},"generated":{"line":1,"column":314}},{"source":"stripe.js","name":"data","original":{"line":10,"column":48},"generated":{"line":1,"column":316}},{"source":"stripe.js","name":"session","original":{"line":10,"column":53},"generated":{"line":1,"column":321}},{"source":"stripe.js","name":"url","original":{"line":10,"column":61},"generated":{"line":1,"column":329}},{"source":"stripe.js","original":{"line":11,"column":4},"generated":{"line":1,"column":334}},{"source":"stripe.js","name":"err","original":{"line":11,"column":11},"generated":{"line":1,"column":340}},{"source":"stripe.js","original":{"line":13,"column":4},"generated":{"line":1,"column":344}},{"source":"stripe.js","name":"showAlert","original":{"line":13,"column":4},"generated":{"line":1,"column":346}},{"source":"stripe.js","original":{"line":13,"column":13},"generated":{"line":1,"column":348}},{"source":"stripe.js","original":{"line":13,"column":14},"generated":{"line":1,"column":359}},{"source":"stripe.js","name":"err","original":{"line":13,"column":23},"generated":{"line":1,"column":367}},{"source":"stripe.js","name":"response","original":{"line":13,"column":27},"generated":{"line":1,"column":369}},{"source":"stripe.js","name":"data","original":{"line":13,"column":36},"generated":{"line":1,"column":378}},{"source":"stripe.js","name":"message","original":{"line":13,"column":41},"generated":{"line":1,"column":383}},{"source":"stripe.js","name":"exports","original":{"line":15,"column":2},"generated":{"line":1,"column":394}},{"source":"stripe.js","name":"bookTour","original":{"line":15,"column":2},"generated":{"line":1,"column":402}},{"source":"stripe.js","name":"bookTour","original":{"line":15,"column":2},"generated":{"line":1,"column":411}}],"sources":{"stripe.js":"import axios from 'axios';\r\nimport { showAlert } from './alerts';\r\n\r\nexport const bookTour = async (tourId) => {\r\n  try {\r\n    // You don't even need next line\r\n    // const stripe = Stripe(settings.stripePublicKey);\r\n    const res = await axios(`/api/v1/bookings/checkout-session/${tourId}`);\r\n\r\n    if (res.status === 200) location.assign(res.data.session.url);\r\n  } catch (err) {\r\n    // TODO: err.response.data.message is not always defined (try smth like await axios('123${settings.baseApiUrl}/bookings/checkout-session/${tourId}') and check err.message)\r\n    showAlert('error', err.response.data.message);\r\n  }\r\n};\r\n"},"lineCount":null}},"error":null,"hash":"7e6549717aa544450faa6ea243cd8d4a","cacheData":{"env":{}}}